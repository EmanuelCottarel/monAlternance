<div class="w-full h-screen flex justify-center items-center">

  <div class="h-fit bg-white flex justify-center">
    <form [formGroup]="registerForm" (ngSubmit)="register()" class="p-8">
      <h2 class="text-2xl mb-4">Inscription</h2>


      <div class="flex flex-col mt-16 h-full gap-3">
        <div *ngIf="message" class="text-red-700 font-semibold w-full text-center ">{{message}}</div>
        <div>
          <label for="email">Email</label>
          <input type="email" id="email" placeholder="foo@bar.com" name="email"
                 pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                 required
                 class="h-[50px] w-full border rounded p-2 mb-4"
                 formControlName="email">
                    <div *ngIf="email?.invalid && (email?.dirty || email?.touched)"
                         class="w-full h-[40px] bg-red-300 text-red-800 flex items-center px-2 -mt-5 rounded-b text-sm">
                      <span *ngIf="email?.errors?.['required']">L'email est obligatoire</span>
                      <span *ngIf="email?.invalid && !email?.errors?.['required']">Le format de l'email n'est pas valide</span>
                    </div>
        </div>

        <div class="flex flex-row gap-2">
          <div class="w-1/2">
            <label for="lastName">Nom</label>
            <input type="text" id="lastName" placeholder="foo" name="lastName"
                   required
                   formControlName="lastName"
                   class="h-[50px] w-full border rounded p-2 mb-4">
                        <div *ngIf="lastName?.invalid && (lastName?.dirty || lastName?.touched)"
                             class="w-full h-[40px] bg-red-300 text-red-800 flex items-center px-2 -mt-5 rounded-b text-sm">
                          <span *ngIf="lastName?.errors?.['required']">Le nom est obligatoire</span>
                        </div>
          </div>

          <div class="w-1/2">
            <label for="firstName">Prénom</label>
            <input type="text" id="firstName" placeholder="foo" name="firstName"
                   required
                   formControlName="firstName"
                   class="h-[50px] w-full border rounded p-2 mb-4">
            <div *ngIf="firstName?.invalid && (firstName?.dirty || firstName?.touched)"
                 class="w-full h-[40px] bg-red-300 text-red-800 flex items-center px-2 -mt-5 rounded-b text-sm">
              <span *ngIf="firstName?.errors?.['required']">Le prénom est obligatoire</span>
            </div>
          </div>

        </div>

        <div class="flex flex-row gap-2">
          <div class="w-1/2">
            <label for="password">Mot de passe</label>
            <input type="password" id="password" placeholder="&bull;&bull;&bull;&bull;&bull;" name="password"
                   required
                   formControlName="plainPassword"
                   class="h-[50px] w-full border rounded p-2 mb-4">
            <div *ngIf="plainPassword?.invalid && (plainPassword?.dirty || plainPassword?.touched)"
                 class="w-full h-[40px] bg-red-300 text-red-800 flex items-center px-2 -mt-5 rounded-b text-sm">
              <span *ngIf="plainPassword?.errors?.['required']">Le mot de passe est obligatoire</span>

            </div>
          </div>
          <div class="w-1/2">
            <label for="confirmPassword">Confirmez le mot de passe</label>
            <input type="password" id="confirmPassword" placeholder="&bull;&bull;&bull;&bull;&bull;"
                   name="confirmPassword"
                   formControlName="plainPasswordConfirm"
                   required
                   class="h-[50px] w-full border rounded p-2 mb-4">
            <div
              *ngIf="(plainPasswordConfirm?.invalid && (plainPasswordConfirm?.dirty || plainPasswordConfirm?.touched)) || registerForm?.errors?.['isNotMatching']"
              class="w-full h-[40px] bg-red-300 text-red-800 flex items-center px-2 -mt-5 rounded-b text-sm">
              <span *ngIf="plainPasswordConfirm?.errors?.['required']">Le mot de passe est obligatoire</span>
              <span *ngIf="registerForm?.errors?.['isNotMatching']">Les mots de passe ne correspondent pas</span>
            </div>


          </div>
        </div>

        <div class="w-full flex justify-center">
          <button [disabled]="registerForm.invalid"
                  class="flex items-center justify-center w-2/5 bg-blue-500 text-white font-semibold h-[50px]">
            S'inscrire
          </button>
        </div>
      </div>

    </form>


  </div>


</div>

